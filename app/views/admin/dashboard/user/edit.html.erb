<% content_for :head_css do %>
  <%= stylesheet_link_tag 'pages/admin/user/edit' %>
<% end %>
<div class="container-fluid main-content px-4">
    <div class="row">
        <%= render 'shared/admin_sidebar'%>
        <div class="col-lg-9">
            <div class="main-workspace row row-cols-1 row-cols-md-2 row-cols-lg-2 g-4">
                <div class="col col-lg-12">
                    <div class="d-flex flex-column mb-4 justify-content-center"> 
                        <h2 class="fw-bold">Edit User Profile</h2>
                        <div class="card">
                            <%= form_with model: current_user, url: users_profile_path, method: :patch, local: true, html: { multipart: true } do |f| %>
                                <div class="avatar-upload-container text-center mb-4">
                                    <% if current_user.avatar.present? %> 
                                        <%= image_tag current_user.avatar.url, class: "profile-edit-avatar mb-3"%>
                                    <% else %>
                                        <%= image_tag 'plus_icon.png', alt: "User Avatar", class: "profile-edit-avatar mb-3" %>
                                    <% end %>   
                                    <label for="avatar-input" class="change-avatar-overlay" style="cursor: pointer;">
                                        <button type="button" class="btn btn-dark btn-sm position-relative overflow-hidden">
                                        CHANGE
                                        <%= f.file_field :avatar,
                                            accept: "image/*",
                                            class: "position-absolute top-0 start-0 w-100 h-100 opacity-0 cursor-pointer",
                                            id: "avatar-input" %>
                                        </button>
                                    </label>
                                </div>
                            
                                <div class="form-name mb-3">
                                    <h5 class="mb-3">Basic Information</h5>
                                </div>
                                <div class="input-field mb-3">
                                    <%= f.label :first_name, class:"form-label" %>
                                    <%= f.text_field :first_name, class: "form-control" %>
                                </div>
                                <div class="input-field mb-3">
                                    <%= f.label :last_name, class:"form-label" %>
                                    <%= f.text_field :last_name, class: "form-control" %>
                                </div>
                                <div class="input-field mb-3">
                                    <%= f.label :email, class:"form-label" %>
                                    <%= f.text_field :email, class: "form-control" %>
                                </div>
                                <div class="input-field mb-3">
                                    <%= f.label :password, class:"form-label" %>
                                    <%= f.text_field :password, class: "form-control" %>
                                </div>
                                <div class="input-field mb-3">
                                    <%= f.label :status, "Active", class: "form-label", for: "user_status" %>
                                    <%= f.check_box :status, class: "form-check-input", id: "user_status" %>
                                </div>
                                <div class="actions save-button">
                                    <%= f.submit "Save", class: "btn btn-success" %>
                                </div>
                            <%end%>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>